# 고령화 시대의 범죄 피해 분석  
고령층(65세 이상) 피해자 특성과 지역·범죄유형별 취약성 탐색

---

## 1. 프로젝트 개요

### 1-1. 배경

우리나라의 고령인구 비율은 꾸준히 증가하고 있으며,  
고령층이 범죄의 **피해자**로서 얼마나 취약한지에 대한 관심도 함께 커지고 있습니다.

하지만 공개된 범죄 통계는

- 지역별 범죄 발생 건수 / 10만 명당 발생비  
- 피해자 연령대별 피해자 수  
- 성별·죄종별 피해자 수 및 65세 이상 피해자 수  

처럼 **서로 다른 표와 축으로 분리**되어 있어,

> “어느 범죄유형에서 고령층 피해가 특히 두드러지는지”  
> “고령인구비율이 높은 지역이 실제로 더 위험한가?”  

를 한 번에 파악하기 어렵습니다.

### 1-2. 분석 목표

본 프로젝트는 다음 질문에 답하는 것을 목표로 합니다.

1. **시도별 고령인구비율과 범죄 발생비(2024년)** 는 어떤 관계를 가지는가?  
2. **연령대·성별·죄종별 데이터**를 이용해  
   - 고령층(65세 이상) 피해 비중이 특히 높은 범죄 유형/범죄군은 무엇인지,  
   - 전체 피해자 중 고령층의 비중이 어느 정도인지를 파악한다.  
3. **2020~2024년 시계열**을 통해 연령대별 피해자 구성이 어떻게 변해 왔는지 확인한다.  
4. **죄종별 군집 분석(KMeans)** 을 통해  
   - 고령층 피해 비중이 높은 군집  
   - 여성 피해 비중이 매우 높은 군집  
   - 전체 규모가 크고 고령층 비율도 높은 메이저 군집  
   을 구분하고, 정책적 시사점을 도출한다.

---

## 2. 데이터 소개

본 프로젝트에서는 경찰청/통계청 공개 자료(수업용으로 제공된 파일 포함)를 기반으로  
다음 데이터들을 사용했습니다.

| 파일명 | 내용 | 활용 목적 |
| ------ | ---- | -------- |
| `crime_region_2020_2024.csv` | 시도별 전체 범죄 발생 건수(2020~2024), 구성비 등 | 지역별 범죄 발생 규모 파악, 참조용 |
| `crime_rate_region_2020_2024.csv` | 시도별 인구 10만 명당 범죄 발생비(2020~2024) | 2024년 발생비 기준 지역별 범죄율 분석, 인구와 병합 |
| `고령인구비율_시도_시_군_구.xlsx` | 시도 단위 고령인구비율(%), 65세 이상 인구 수, 전체 인구 수 | 고령화 정도(인구 구조) 분석 및 범죄율과의 관계 분석 |
| `victim_gender_trend.csv` | 범죄유형별(전체범죄, 사기, 절도, 폭력범죄 등) × 성별 × 연도별 피해자 수(2020~2024) | 성별 피해자 추세, 사기·절도·폭력 범죄 추세 분석 |
| `victim_age_trend_2020_2024.csv` | 연령대별(12세 이하, 13~15세, …, 60세 이상) 피해자 수(2020~2024) | 연령대 × 연도 히트맵, 피해자 구성 변화 분석 |
| `victim_senior_by_crimetype_final.xlsx` | 죄종별 전체 피해자 수, 남/녀 소계, 남/녀 65세 이상 피해자 수 | 고령층 피해 비율 계산, 범죄그룹 요약, 군집 분석 |

### ⚠ 데이터 구조의 한계

- 지역(시도) 단위 데이터와  
- 연령대·성별·죄종 단위 데이터가 **서로 다른 축으로 분리**되어 있습니다.
- 따라서 **“지역 × 죄종 × 연령대(65세 이상)”**를 동시에 포함하는 완전한 테이블은 없으며,  
  이 프로젝트에서는
  - **지역 단위 분석**과  
  - **전국 단위 죄종·연령·성별 분석**을 **분리**해서 수행했습니다.

---

## 3. 분석 환경

- 실행 환경: **Google Colab (Python 3.12)**  
- 주요 라이브러리:
  - `pandas`, `numpy`
  - `matplotlib`, `seaborn`
  - `scikit-learn` (회귀, 랜덤포레스트, 군집분석)
- 폰트: 나눔고딕(`NanumGothic`) – Colab에서는 노트북 상단에서 설치 후 사용

---

## 4. 폴더 및 파일 구조


```bash
.
├── README.md
├── data
│   ├── crime_region_2020_2024.csv
│   ├── crime_rate_region_2020_2024.csv
│   ├── 고령인구비율_시도_시_군_구.xlsx
│   ├── victim_gender_trend.csv
│   ├── victim_age_trend_2020_2024.csv
│   ├── victim_senior_by_crimetype_final.xlsx
│   ├── merged_population_crime_2024.csv            # 전처리 결과 (자동 생성)
│   ├── victim_senior_processed.csv                 # 전처리 결과 (자동 생성)
│   └── victim_senior_summary_성별별_전체비율.csv   # 분석 결과 (자동 생성)
├── figs
│   ├── region_corr_heatmap.png
│   ├── region_scatter_고령인구비율_vs_발생비.png
│   ├── age_heatmap.png
│   ├── gender_trend_overall.png
│   ├── crime_trend_selected.png
│   ├── top5_senior_crime.png
│   ├── crime_group_senior_ratio.png
│   └── ... (필요한 시각화 이미지들)
├── 데이터_전처리.ipynb
└── 분석_및_시각화.ipynb
```
---

## 5. 코드 파일 설명

### 5-1. `데이터_전처리.ipynb`

**역할**  
원본 데이터를 불러와 **분석에 적합한 형태로 정리**하고,  
분석용 CSV 파일들을 생성하는 노트북입니다.

**주요 내용**

1. `./data/` 폴더에서 원본 파일 로드  
   - `crime_region_2020_2024.csv`  
   - `crime_rate_region_2020_2024.csv`  
   - `고령인구비율_시도_시_군_구.xlsx`  
   - `victim_gender_trend.csv`  
   - `victim_age_trend_2020_2024.csv`  
   - `victim_senior_by_crimetype_final.xlsx`

2. **인구 데이터(pop) 전처리**
   - 설명용 첫 행(skip) 제거  
   - 컬럼 통일  
     - `["지역", "고령인구비율(%)", "65세이상인구", "전체인구"]`
   - 지역명 정리  
     - `"서울특별시" → "서울"`, `"부산광역시" → "부산"` 등 접미사 제거  
   - 인구 수 문자열(`"1,234,567"`)에서 쉼표 제거 후 정수형 변환

3. **범죄율 데이터와 병합 → `merged_population_crime_2024.csv` 생성**
   - `crime_rate_region_2020_2024.csv`에서  
     - `지역`, `2020_발생비`~`2024_발생비` 사용
   - 인구 데이터와 `지역` 기준으로 inner join  
   - 최종 분석에 사용하는 컬럼 예시  
     - `["지역", "2024_발생비", "고령인구비율(%)", "65세이상인구", "전체인구"]`
   - 결측치 여부, 기본 통계량(`describe()`) 출력  
   - 결과를 `data/merged_population_crime_2024.csv`로 저장

4. **죄종별 고령층 피해자 데이터 전처리 → `victim_senior_processed.csv` 생성**
   - `victim_senior_by_crimetype_final.xlsx`의 수치형 컬럼들을 숫자형으로 변환  
     - `계`, `남자_소계`, `남자_65세이상`, `여자_소계`, `여자_65세이상`
   - 파생 변수 생성  
     - `총_65세이상피해자수 = 남자_65세이상 + 여자_65세이상`  
     - `남성_고령비율(%) = 남자_65세이상 / 남자_소계 × 100`  
     - `여성_고령비율(%) = 여자_65세이상 / 여자_소계 × 100`  
     - `전체_고령비율(%) = 총_65세이상피해자수 / 계 × 100`
   - 전처리 결과를 `data/victim_senior_processed.csv`로 저장

> 이 노트북은 **데이터 수집·전처리·변환 과정**을 담당하며,  
> 보고서의 전처리 파트와 1:1로 대응됩니다.

---

### 5-2. `분석_및_시각화.ipynb`

**역할**  
전처리 결과를 바탕으로 **EDA, 시각화, 회귀/랜덤포레스트, 군집 분석**을 수행하는 노트북입니다.

**입력 데이터**

- `data/merged_population_crime_2024.csv`  
- `data/victim_senior_processed.csv`  
- `data/victim_age_trend_2020_2024.csv`  
- `data/victim_gender_trend.csv`

**주요 내용**

1. **지역 단위 상관 분석 & 회귀 / RandomForest**
   - 상관 행렬(히트맵)
     - `["2024_발생비", "고령인구비율(%)", "65세이상인구", "전체인구"]`
   - 산점도 + 회귀선
     - `고령인구비율(%)` vs `2024_발생비`
     - 각 점에 시도 이름 라벨링
   - 선형회귀(LinearRegression)
     - 입력: `고령인구비율(%)`, `65세이상인구`, `전체인구`
     - 출력: R², RMSE, 회귀계수
   - RandomForestRegressor
     - 동일한 입력 변수로 학습
     - R², RMSE, **변수 중요도(Feature Importance)** 계산

2. **고령인구비율 단일 특성에 대한 간단 ML 실험**
   - 입력: `고령인구비율(%)` 1개만 사용
   - 모델:
     - `PolynomialFeatures(2) + Ridge` (다항 회귀)
     - `RandomForestRegressor` + `RandomizedSearchCV`로 하이퍼파라미터 튜닝
   - KFold(5-fold) 기준
     - 교차검증 RMSE, R² 출력
   - 목적:
     - “고령인구비율 하나만으로는 범죄율 설명력이 매우 낮다”는 점을 정량적으로 보여주기 위함

3. **연령대별 피해자 구성 변화 (히트맵)**
   - `victim_age_trend_2020_2024.csv` 사용
   - `_건수` 컬럼 쉼표 제거 후 숫자형 변환
   - `melt` + `pivot_table`을 이용해  
     - **연령대(행) × 연도(열)** 구조로 변환
   - Seaborn 히트맵으로 시각화  
     - 색 농도로 연령대별 피해자 수를 표현

4. **성별 피해자 추세 (전체범죄 기준)**
   - `victim_gender_trend.csv` 사용
   - `_건수` 컬럼 숫자형 변환
   - `"전체범죄"` & `"남성"`, `"여성"` 행만 필터링
   - 연도별 남성/여성 피해자 수 라인 그래프 작성

5. **사기·절도·폭력 범죄 피해자 추세 (전국 기준)**
   - 동일 데이터에서 `"사기범죄"`, `"절도범죄"`, `"폭력범죄"` 중 `"계"` 행만 추출
   - 연도별 피해자 수 라인 그래프  
     - 각 범죄유형 간 추세 비교

6. **죄종별 고령층 피해 Top5**
   - `victim_senior_processed.csv` 사용
   - `전체_고령비율(%)` 기준 상위 5개 죄종 정렬
   - 표로 출력 + 가로 막대 그래프(barchart) 시각화
   - 예시: 환경범죄, 방화, 직무유기, 배임, 살인기수 등이 상위권에 위치

7. **범죄 그룹(재산·폭력·성범죄·기타)별 고령층 비율**
   - 죄종명을 규칙 기반으로 분류
     - `"강간"`, `"강제추행"` 등 → 성범죄  
     - `"폭행"`, `"상해"`, `"협박"` 등 → 폭력범죄  
     - `"절도"`, `"사기"`, `"배임"`, `"횡령"` 등 → 재산범죄  
     - 나머지 → 기타
   - 그룹별 합계/고령비율 계산
     - 그룹별 `계`, `남자_65세이상`, `여자_65세이상`, `총_65세이상피해자`, `고령비율(%)_재계산`
   - 막대 그래프로 시각화

8. **성별별 전체 vs 65세 이상 피해자 비율**
   - 전체 범죄(모든 죄종 합계)에 대해
     - 전체 피해자 수 vs 65세 이상 피해자 수 계산
     - 남성·여성 각각에 대해서도 동일 계산
   - 요약표(`victim_senior_summary_성별별_전체비율.csv`)로 저장

9. **죄종별 군집 분석(KMeans)**
   - 사용 특성:
     - `계` (전체 피해자 수)
     - `총_65세이상피해자수`
     - `전체_고령비율(%)`
     - `남성비율(%) = 남자_소계 / 계 × 100`
     - `여성비율(%) = 여자_소계 / 계 × 100`
   - StandardScaler로 정규화 후, `k=3`으로 KMeans 군집화
   - 각 군집별 평균값 요약
     - 예:  
       - cluster 0: 규모는 작지만 고령층 비율 높은 군집  
       - cluster 1: 여성 피해 비율이 높고 고령층 비율은 낮은 군집(성범죄 중심)  
       - cluster 2: 전체 피해 규모가 크고 고령층 비율도 10% 내외인 메이저 군집(절도, 사기, 폭행 등)
   - 군집별로 고령비율 상위 5개 죄종을 표로 출력

> 이 노트북의 수치와 그래프를 기반으로,  
> 보고서의 **분석 결과, 시각화, 머신러닝, 군집 분석** 파트를 작성했습니다.

---


### 5-2. `분석_및_시각화.ipynb`

**역할**  
전처리된 데이터를 바탕으로 **EDA, 시각화, 회귀·랜덤포레스트·군집 분석**을 수행하는 노트북입니다.  
보고서의 “분석/시각화/머신러닝 결과” 파트와 1:1로 대응됩니다.

**입력 데이터**

- `data/merged_population_crime_2024.csv`
- `data/victim_senior_processed.csv`
- `data/victim_age_trend_2020_2024.csv`
- `data/victim_gender_trend.csv`

---

#### (1) 지역 단위 상관 분석 & 회귀 / RandomForest

- 사용 데이터: `merged_population_crime_2024.csv`
- 주요 변수
  - 종속 변수(y): `2024_발생비` (인구 10만 명당 범죄 발생비)
  - 설명 변수(X): `고령인구비율(%)`, `65세이상인구`, `전체인구`

**내용**

1. **상관 분석**
   - `["2024_발생비", "고령인구비율(%)", "65세이상인구", "전체인구"]`로 상관 행렬 계산
   - Seaborn heatmap으로 시각화  
   → 변수 간 상관 구조를 한눈에 확인

2. **산점도 + 회귀선**
   - `고령인구비율(%)` vs `2024_발생비`  
   - 각 점 위에 `지역` 라벨(서울, 부산, 대구 등) 표시  
   → 고령화율이 높은 지역이 실제로 얼마나 높은 범죄율을 보이는지 직관적으로 확인

3. **선형회귀 (LinearRegression)**
   - 입력: `고령인구비율(%)`, `65세이상인구`, `전체인구`
   - 출력:
     - R²
     - RMSE
     - 각 변수의 회귀계수
   - “실제 vs 예측” 산점도에서 기준선(y=x)과의 차이를 시각적으로 확인

4. **RandomForestRegressor**
   - 동일한 입력 변수로 모델 학습
   - 출력:
     - R²
     - RMSE
     - 변수 중요도(Feature Importance) 바 차트
   - 선형회귀와 비교하여, 비선형 모델에서도 설명력이 얼마나 나오는지 확인

---

#### (2) 고령인구비율 단일 특성에 대한 간단 ML 실험

- 사용 데이터: `merged_population_crime_2024.csv`
- 특징: `고령인구비율(%)` **하나만** 사용 (단일 특성 실험)

**모델**

1. `PolynomialFeatures(degree=2) + Ridge`
   - 2차 다항 변환 + Ridge 회귀
   - KFold(5-fold) 교차검증으로 RMSE, R² 계산

2. `RandomForestRegressor` + `RandomizedSearchCV`
   - 하이퍼파라미터:
     - `n_estimators` (50~300)
     - `max_depth` (2~10)
     - `min_samples_split` (2~7)
   - R²를 기준으로 `RandomizedSearchCV` 수행 후  
     최적 모델에 대해 RMSE, R² 교차검증 점수 계산

**목적**

- “고령인구비율 1개만으로는 범죄율을 제대로 설명하기 어렵다”는 것을  
  수치(RMSE, R²)로 명확하게 보여주는 **참고용 분석**입니다.

---

#### (3) 연령대별 피해자 구성 변화 (히트맵)

- 사용 데이터: `victim_age_trend_2020_2024.csv`

**주요 처리**

1. `_건수`가 붙은 모든 컬럼에서 쉼표 제거 후 숫자형 변환
2. `melt` + `pivot_table` 사용
   - `연령대` × `연도` 행렬 형태로 재구성
3. Seaborn `heatmap`으로 시각화
   - 색 농도로 피해자 수 표현
   - `annot=True` 옵션으로 실제 숫자도 함께 표시

**해석에 활용**

- 20~40대 구간 피해자 수가 가장 많고,
- 60세 이상 고령층 피해자 수는 전체 대비 비중은 낮지만  
  일부 연도에서는 감소하지 않고 유지되는 양상을 확인할 수 있습니다.

---

#### (4) 성별 피해자 추세 (전체범죄 기준)

- 사용 데이터: `victim_gender_trend.csv`

**주요 처리**

1. `_건수` 컬럼 쉼표 제거 후 숫자형 변환
2. `"범죄유형" == "전체범죄"` 필터
3. `"성별" ∈ { "남성", "여성" }` 행만 추출
4. 연도별 피해자 수를 `melt`로 긴 형태로 바꾼 뒤  
   `sns.lineplot`으로 시각화

**결과**

- 남성/여성 모두 2020~2024년 동안 비슷한 방향으로 변화
- 전체 피해자 수는 남성이 여성보다 많음

---

#### (5) 사기·절도·폭력 범죄 피해자 추세 (전국 기준)

- 사용 데이터: `victim_gender_trend.csv`
- 대상 범죄유형:
  - `"사기범죄"`, `"절도범죄"`, `"폭력범죄"`
- `"성별" == "계"` (전체) 행만 사용

**처리**

1. 각 범죄유형에 대해 연도별 피해자 수를 하나의 레코드(record)로 구성
2. 이를 전치하여(`.T`) `년도` × `범죄유형` 구조로 변환
3. 다시 `melt`하여 긴 형태로 만든 뒤 `sns.lineplot`으로 추세 시각화

**해석**

- 사기·절도·폭력은 피해 규모가 큰 범죄유형이며,  
  특히 재산범죄(사기·절도)는 고령층 피해와 연관이 큰 범죄 유형으로 해석할 수 있습니다.

---

#### (6) 죄종별 고령층 피해 Top5

- 사용 데이터: `victim_senior_processed.csv`

**처리**

1. `전체_고령비율(%)` 기준으로 내림차순 정렬
2. 상위 5개 죄종 추출
3. `display()`로 표 출력
4. Seaborn 가로 막대 그래프로 시각화
   - x축: `전체_고령비율(%)`
   - y축: `죄종`

**주요 포인트**

- 환경범죄, 방화, 직무유기, 배임, 살인기수 등에서  
  고령층 피해 비율이 20%를 넘는 경우가 존재
- 특정 죄종에서 고령층 피해 집중 현상이 나타남

---

#### (7) 범죄 그룹(재산·폭력·성범죄·기타)별 고령층 비율

- 사용 데이터: `victim_senior_processed.csv`

**그룹 매핑 규칙 예시**

- 성범죄: `"강간"`, `"유사강간"`, `"강제추행"`, `"성폭력"` 등 포함
- 폭력범죄: `"폭행"`, `"상해"`, `"협박"`, `"체포"`, `"감금"`, `"약취"`, `"유인"`, `"인질"` 등 포함
- 재산범죄: `"절도"`, `"사기"`, `"횡령"`, `"배임"`, `"손괴"`, `"장물"` 등 포함
- 나머지: `"기타"`

**집계 내용**

- 그룹별로 다음 항목 합계 계산
  - `계`
  - `남자_65세이상`
  - `여자_65세이상`
  - `총_65세이상피해자`
- 재계산된 고령층 비율
  - `고령비율(%)_재계산 = 총_65세이상피해자 / 계 * 100`

**시각화**

- x축: `범죄그룹`
- y축: `고령비율(%)_재계산`
- 막대그래프(barplot) 사용

---

#### (8) 성별별 전체 vs 65세 이상 피해자 비율

- 사용 데이터: `victim_senior_processed.csv`

**집계 방식**

- 전체
  - 모든 죄종의 `계` 합 → 전체 피해자 수
  - 모든 죄종의 `총_65세이상피해자수` 합 → 고령 피해자 수
- 남성
  - `남자_소계` 합, `남자_65세이상` 합
- 여성
  - `여자_소계` 합, `여자_65세이상` 합

**출력**

- `구분`, `전체 피해자 수`, `65세 이상 피해자 수`, `65세 이상 비율(%)`  
  4개 컬럼으로 요약표 작성
- `data/victim_senior_summary_성별별_전체비율.csv`로 저장

---

#### (9) 죄종별 군집 분석(KMeans)

- 사용 데이터: `victim_senior_processed.csv`

**사용 특성(features)**

- `계` (전체 피해자 수)
- `총_65세이상피해자수`
- `전체_고령비율(%)`
- `남성비율(%) = 남자_소계 / 계 × 100`
- `여성비율(%) = 여자_소계 / 계 × 100`

**분석 절차**

1. 결측치 제거 후 위 특성들만 추출
2. `StandardScaler`로 표준화
3. `KMeans(n_clusters=3, random_state=42, n_init=10)` 적용
4. cluster 레이블을 각 죄종에 부여
5. 군집별 평균값 요약
   - `계`, `전체_고령비율(%)`, `남성비율(%)`, `여성비율(%)`
6. 각 cluster별로
   - `전체_고령비율(%)` 상위 5개 죄종을 추출하여 표시

**해석 포인트**

- 고령층 비율이 매우 높은 군집  
- 여성 피해 비율이 압도적으로 높은 군집(성범죄 중심)  
- 전체 피해 규모도 크고 고령층 비율도 높은 메이저 군집 등  
  → 범죄 유형별 **위험 프로파일**을 확인할 수 있음

---

## 6. 실행 방법

### 6-1. Colab에서 실행

1. 이 GitHub 저장소를 연 뒤  
   `데이터_전처리.ipynb`를 Colab에서 열어 상단부터 순서대로 실행합니다.
2. 전처리 완료 후, 같은 환경에서 `분석_및_시각화.ipynb`를 실행합니다.
3. 생성된 시각화 이미지를 `figs/` 폴더에 저장하거나  
   보고서(PDF, PPT)에 캡처하여 사용합니다.

### 6-2. 로컬 환경에서 실행 (선택)

1. Python 가상환경 생성 후 필요한 패키지 설치

   ```bash
   pip install -r requirements.txt
data/ 폴더에 원본 데이터를 넣고
Jupyter Notebook 또는 VS Code에서 두 노트북을 순서대로 실행합니다.

7. 주요 결과 요약 (간단 버전)
고령인구비율과 범죄율(10만 명당 발생비) 사이의 상관계수는 약 0.269로,
고령화율만으로 지역 범죄율을 설명하기에는 상관이 약함을 확인했습니다.

전체 피해자 중 약 10% 내외가 65세 이상이며,
재산·폭력·기타 범죄에서 고령층 비중이 상대적으로 높게 나타났습니다.

죄종별 군집 분석을 통해

고령층 비율이 특히 높은 군집

여성 피해 비율이 매우 높은 성범죄 중심 군집

전체 규모가 크고 고령층 비율도 높은 메이저 군집
을 구분할 수 있었고,
이는 고령층 대상 맞춤형 예방 정책의 필요성을 시사합니다.

makefile
코드 복사
::contentReference[oaicite:0]{index=0}
